<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2024-01-07 11:08:56              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace App\Repository; use App\Models\Roles; use Illuminate\Contracts\Pagination\LengthAwarePaginator; use Illuminate\Http\Request; use Illuminate\Support\Facades\DB; use Illuminate\Support\Facades\Validator; class RoleRepository extends Repository { public function getList(Request $QiZOc) : LengthAwarePaginator { return Roles::where("\144\145\154\x65\x74\x65\144", "\x3d", 0)->when($QiZOc->get("\x6e\141\x6d\x65"), function ($SkUGn) use($QiZOc) { return $SkUGn->where("\x6e\x61\155\145", "\154\x69\153\x65", $QiZOc->get("\x6e\x61\x6d\x65") . "\45"); })->with("\x61\143\x74\151\x6f\x6e\x49\144", function ($SkUGn) { return $SkUGn->where("\x64\145\x6c\145\164\145\144", "\75", 0); })->paginate($this->FfaKn, ["\52"]); } public function add(Request $QiZOc) : array { goto pntAI; xFS3M: ECnh9: goto bGLo6; nM4lq: if (is_array($QiZOc->post("\x61\143\164\151\157\x6e\x5f\x69\x64\x73"))) { goto ECnh9; } goto ilgYZ; pntAI: $UGmxt = Validator::make($QiZOc->all(), ["\156\x61\x6d\x65" => "\162\x65\x71\165\151\x72\145\144\174\155\x61\x78\x3a\x33\62", "\141\143\x74\151\x6f\x6e\137\x69\144\163" => "\x72\x65\x71\165\x69\x72\145\x64"], ["\156\141\155\145\56\162\145\161\165\151\x72\145\144" => "\xe5\220\x8d\xe7\xa7\xb0\345\xbf\x85\xe9\241\273", "\x6e\x61\x6d\x65\56\155\x61\x78" => "\xe5\x90\215\xe7\247\xb0\xe6\x9c\200\345\xa4\xa7\xe9\225\xbf\345\272\xa6\344\270\x8d\350\266\205\xe8\277\207\x33\x32\345\255\x97\347\254\246", "\141\143\x74\x69\x6f\x6e\x5f\x69\x64\163\x2e\x72\x65\x71\x75\151\162\x65\x64" => "\346\x9d\x83\xe9\x99\220\xe5\xbf\205\xe9\241\xbb"]); goto rdNbZ; bGLo6: try { goto GuJMC; JVWL0: RoleActionRepository::add($QiZOc->post("\141\x63\x74\x69\157\156\x5f\x69\144\x73"), $f3ipM->id); goto yK82T; gbIX4: DB::beginTransaction(); goto jq5Uj; jq5Uj: $f3ipM = Roles::updateOrCreate(["\156\x61\155\x65" => $QiZOc->post("\156\x61\155\x65"), "\143\x72\145\141\x74\145\x64\137\141\x74" => time()]); goto JVWL0; YvCfq: ukSV8: goto gbIX4; lpIUD: throw new \Exception("\345\220\x8d\347\247\260\xe5\xb7\xb2\347\xbb\x8f\xe5\xad\x98\xe5\x9c\250"); goto YvCfq; G020p: return ["\143\157\x64\x65" => 0, "\x64\x61\164\141" => [], "\155\163\147" => "\346\210\x90\xe5\x8a\x9f"]; goto QDp9G; yK82T: DB::commit(); goto G020p; GuJMC: if (!Roles::where("\156\x61\x6d\x65", $QiZOc->post("\x6e\x61\155\145"))->where("\x64\145\154\145\x74\x65\x64", 0)->count()) { goto ukSV8; } goto lpIUD; QDp9G: } catch (\Exception $FBi7X) { DB::rollBack(); return ["\143\157\144\x65" => 1, "\155\163\147" => $FBi7X->getMessage()]; } goto aJRQf; YeKaw: return ["\143\157\x64\x65" => 1, "\x6d\x73\x67" => $UGmxt->errors()->first()]; goto rRJaq; ilgYZ: return ["\143\x6f\144\145" => 1, "\x6d\163\x67" => "\xe6\235\203\351\231\220\346\240\xbc\xe5\274\217\344\270\x8d\346\xad\xa3\347\xa1\256"]; goto xFS3M; rRJaq: oWx6o: goto nM4lq; rdNbZ: if (!$UGmxt->fails()) { goto oWx6o; } goto YeKaw; aJRQf: } public function update(Request $QiZOc) : array { goto lpNEy; lpNEy: $UGmxt = Validator::make($QiZOc->all(), ["\151\144" => "\x72\x65\161\165\x69\162\x65\x64", "\156\x61\155\145" => "\x72\x65\x71\165\x69\162\x65\x64\x7c\155\141\x78\72\63\62"], ["\x69\x64\56\162\x65\161\165\x69\162\x65\144" => "\111\104\xe5\xbf\x85\351\241\273", "\156\141\x6d\145\x2e\162\145\161\x75\151\x72\145\144" => "\xe5\220\215\347\xa7\xb0\345\xbf\205\xe9\241\273", "\156\x61\155\x65\x2e\155\141\x78" => "\345\x90\215\xe7\247\xb0\xe6\x9c\200\345\xa4\247\xe9\225\xbf\345\272\xa6\344\xb8\215\350\266\x85\350\xbf\x87\x33\62\xe5\255\x97\xe7\254\246"]); goto Fq4Pb; IkTQI: QNpH8: goto fzlV8; Fq4Pb: if (!$UGmxt->fails()) { goto QNpH8; } goto DSiae; fzlV8: try { goto L55so; NPJ1_: RoleActionRepository::add($QiZOc->post("\141\143\164\151\157\x6e\x5f\x69\144\x73"), $f3ipM->id); goto aN9j2; aN9j2: DB::commit(); goto t4sYp; UGHOQ: DB::beginTransaction(); goto Th_9A; BZYYw: ykgSd: goto UGHOQ; t4sYp: return ["\x63\x6f\144\145" => 0, "\x64\141\x74\141" => [], "\155\x73\x67" => "\xe6\210\x90\xe5\x8a\x9f"]; goto cPE62; xlANQ: throw new \Exception("\xe5\220\x8d\347\xa7\xb0\xe5\267\xb2\347\xbb\x8f\xe5\255\230\345\x9c\250"); goto BZYYw; L55so: if (!Roles::where("\156\x61\155\x65", $QiZOc->post("\156\141\155\x65"))->where("\x64\x65\154\145\164\145\x64", 0)->where("\x69\144", "\x3c\x3e", $QiZOc->post("\151\144"))->count()) { goto ykgSd; } goto xlANQ; Th_9A: $f3ipM = Roles::updateOrCreate(["\151\144" => $QiZOc->post("\x69\x64")], ["\156\141\x6d\x65" => $QiZOc->post("\156\x61\x6d\145")]); goto NPJ1_; cPE62: } catch (\Exception $FBi7X) { return ["\x63\157\144\x65" => 1, "\155\163\147" => $FBi7X->getMessage()]; } goto GEVTP; DSiae: return ["\x63\x6f\144\x65" => 1, "\x6d\163\147" => $UGmxt->errors()->first()]; goto IkTQI; GEVTP: } public function remove(Request $QiZOc) : array { goto wyd2N; AQFyC: return ["\143\x6f\x64\145" => 1, "\x6d\x73\x67" => $UGmxt->errors()->first()]; goto vou57; ngF53: if (!$UGmxt->fails()) { goto DNIqP; } goto AQFyC; wyd2N: $UGmxt = Validator::make($QiZOc->all(), ["\x69\144" => "\162\x65\x71\x75\151\x72\x65\x64"], ["\x69\x64\56\x72\x65\161\165\x69\x72\x65\144" => "\111\104\345\xbf\x85\xe9\241\273"]); goto ngF53; vou57: DNIqP: goto SIub2; SIub2: try { Roles::updateOrCreate(["\x69\144" => $QiZOc->post("\x69\x64")], ["\144\145\x6c\145\x74\145\x64" => 1]); return ["\143\157\x64\145" => 0, "\x64\x61\164\x61" => [], "\x6d\163\x67" => "\346\210\x90\345\212\x9f"]; } catch (\Exception $FBi7X) { return ["\143\x6f\144\145" => 1, "\155\x73\x67" => $FBi7X->getMessage()]; } goto JkuQ8; JkuQ8: } public function idName() : array { $CBVJU = Roles::where("\x64\145\154\145\164\145\144", "\x3d", 0)->get()->toArray(); return array_column($CBVJU, "\x6e\x61\x6d\x65", "\151\144"); } }
