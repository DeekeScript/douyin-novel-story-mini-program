(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[959],{98921:function(O){O.exports={operate:"operate___2pEBk"}},94750:function(O,y,l){"use strict";var a=l(5632);y.Z=function(o){var c=(0,a.md)();return c.buttonHasAccess(o)?o.children:null}},35727:function(O,y,l){"use strict";l.r(y);var a=l(62350),o=l(24565),c=l(57663),p=l(71577),f=l(90636),B=l(34792),b=l(48086),v=l(3182),g=l(67966),C=l(67265),L=l(77022),k=l(67294),M=l(94750),P=l(98921),I=l.n(P),_=l(85893),R=function(){var E=(0,k.useRef)(),w=function(){var Z=(0,v.Z)((0,f.Z)().mark(function h(u){var d,m;return(0,f.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(d=b.ZP.loading("\u6B63\u5728\u5220\u9664"),u){r.next=3;break}return r.abrupt("return",!0);case 3:return r.next=5,(0,g.PN)({id:u.id});case 5:if(m=r.sent,d(),m.code!==0){r.next=10;break}return b.ZP.success("\u5220\u9664\u6210\u529F"),r.abrupt("return",!0);case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},h)}));return function(u){return Z.apply(this,arguments)}}(),j=function(){var Z=(0,v.Z)((0,f.Z)().mark(function h(u){var d,m;return(0,f.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(d=b.ZP.loading("\u6B63\u5728\u8FDB\u884C"),u){r.next=3;break}return r.abrupt("return",!0);case 3:return r.next=5,(0,g.d$)({id:u.id,status:u.status});case 5:if(m=r.sent,d(),m.code!==0){r.next=10;break}return b.ZP.success("\u64CD\u4F5C\u6210\u529F"),r.abrupt("return",!0);case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},h)}));return function(u){return Z.apply(this,arguments)}}(),D=[{title:"ID",dataIndex:"id",search:!1,width:120},{title:"\u56FE\u4E66ID",width:120,dataIndex:"book_id",valueType:"text"},{title:"\u4E66\u540D",dataIndex:"novel_name",width:180,valueType:"text",search:!1,render:function(h,u){return u.book.novel_name}},{title:"\u7528\u6237ID",width:120,dataIndex:"user_id",valueType:"text",render:function(h,u){return h}},{title:"\u7528\u6237\u6635\u79F0",dataIndex:"nickname",valueType:"text",search:!1,width:180,render:function(h,u){return u.user.nickname}},{title:"\u8BC4\u8BBA\u5185\u5BB9",dataIndex:"content",valueType:"text",search:!1,width:520},{title:"\u72B6\u6001",width:100,dataIndex:"status",valueType:"select",valueEnum:{0:{text:"\u5F85\u5BA1\u6838",status:"Processing"},2:{text:"\u5BA1\u6838\u5931\u8D25",status:"Error"},1:{text:"\u5BA1\u6838\u901A\u8FC7",status:"Success"}}},{title:"\u4FEE\u6539\u65F6\u95F4",sorter:!0,dataIndex:"updated_at",valueType:"dateTime",search:!1,width:180},{title:"\u521B\u5EFA\u65F6\u95F4",sorter:!0,dataIndex:"created_at",valueType:"dateTime",search:!1,width:180},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",width:80,className:I().operate,render:function(h,u){return[(0,_.jsx)(M.Z,{access:"/book/examineComment",children:u.status!==1?(0,_.jsx)(o.Z,{title:"\u786E\u5B9A\u5BA1\u6838\u901A\u8FC7\u5417\uFF1F",onConfirm:(0,v.Z)((0,f.Z)().mark(function d(){var m;return(0,f.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u.status=1,r.next=3,j(u);case 3:m=r.sent,m&&E.current&&E.current.reload();case 5:case"end":return r.stop()}},d)})),okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,_.jsx)(p.Z,{type:"primary",size:"small",children:"\u5BA1\u6838\u901A\u8FC7"},"examine-pass-btn-"+u.id)},"examineComment"+u.id):null},"if_on_"+u.id),(0,_.jsx)(M.Z,{access:"/book/examineComment",children:u.status!==2?(0,_.jsx)(o.Z,{title:"\u786E\u5B9A\u5BA1\u6838\u4E0D\u901A\u8FC7\u5417\uFF1F",onConfirm:(0,v.Z)((0,f.Z)().mark(function d(){var m;return(0,f.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u.status=2,r.next=3,j(u);case 3:m=r.sent,m&&E.current&&E.current.reload();case 5:case"end":return r.stop()}},d)})),okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,_.jsx)(p.Z,{type:"primary",size:"small",children:"\u5BA1\u6838\u4E0D\u901A\u8FC7"},"examine-not-btn-"+u.id)},"examineComment_"+u.id):null},"if_o_"+u.id),(0,_.jsx)(M.Z,{access:"/book/removeComment",children:(0,_.jsx)(o.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onConfirm:(0,v.Z)((0,f.Z)().mark(function d(){var m;return(0,f.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w(u);case 2:m=r.sent,m&&E.current&&E.current.reload();case 4:case"end":return r.stop()}},d)})),okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,_.jsx)(p.Z,{type:"primary",size:"small",danger:!0,children:"\u5220\u9664"},"delete-comment-btn-"+u.id)},"delete"+u.id)},"key_"+u.id)]}}];return(0,_.jsx)(C.ZP,{children:(0,_.jsx)(L.Z,{actionRef:E,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[]},request:g.C9,columns:D})})};y.default=R},67966:function(O,y,l){"use strict";l.d(y,{ZN:function(){return f},h_:function(){return g},VS:function(){return L},fy:function(){return I},nM:function(){return R},vj:function(){return E},kV:function(){return j},gj:function(){return Z},C9:function(){return u},d$:function(){return m},PN:function(){return r},oG:function(){return Y},Lp:function(){return S},_U:function(){return G},tc:function(){return F}});var a=l(90636),o=l(11849),c=l(3182),p=l(21704);function f(n,t){return B.apply(this,arguments)}function B(){return B=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/bookList",(0,o.Z)({method:"GET",params:(0,o.Z)({},t)},i||{})));case 1:case"end":return e.stop()}},n)})),B.apply(this,arguments)}function b(n,t){return v.apply(this,arguments)}function v(){return v=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,i){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/book/updateBook",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},i||{})));case 1:case"end":return e.stop()}},n)})),v.apply(this,arguments)}function g(n,t){return C.apply(this,arguments)}function C(){return C=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/updateBookCate",(0,o.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:t},i||{})));case 1:case"end":return e.stop()}},n)})),C.apply(this,arguments)}function L(n,t){return k.apply(this,arguments)}function k(){return k=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/onlineBook",(0,o.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:t},i||{})));case 1:case"end":return e.stop()}},n)})),k.apply(this,arguments)}function M(n,t){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,i){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/book/addBook",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},i||{})));case 1:case"end":return e.stop()}},n)})),P.apply(this,arguments)}function I(n){return _.apply(this,arguments)}function _(){return _=(0,c.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.WY)("/api/book/removeBook",{method:"get",params:(0,o.Z)({},t)}));case 1:case"end":return s.stop()}},n)})),_.apply(this,arguments)}function R(n,t){return W.apply(this,arguments)}function W(){return W=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/cateList",(0,o.Z)({method:"GET",params:(0,o.Z)({},t)},i||{})));case 1:case"end":return e.stop()}},n)})),W.apply(this,arguments)}function E(n,t){return w.apply(this,arguments)}function w(){return w=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/updateCate",(0,o.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:t},i||{})));case 1:case"end":return e.stop()}},n)})),w.apply(this,arguments)}function j(n,t){return D.apply(this,arguments)}function D(){return D=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/addCate",(0,o.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:t},i||{})));case 1:case"end":return e.stop()}},n)})),D.apply(this,arguments)}function Z(n){return h.apply(this,arguments)}function h(){return h=(0,c.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.WY)("/api/book/removeCate",{method:"get",params:(0,o.Z)({},t)}));case 1:case"end":return s.stop()}},n)})),h.apply(this,arguments)}function u(n,t){return d.apply(this,arguments)}function d(){return d=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/commentList",(0,o.Z)({method:"GET",params:(0,o.Z)({},t)},i||{})));case 1:case"end":return e.stop()}},n)})),d.apply(this,arguments)}function m(n,t){return T.apply(this,arguments)}function T(){return T=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/examineComment",(0,o.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:t},i||{})));case 1:case"end":return e.stop()}},n)})),T.apply(this,arguments)}function r(n){return A.apply(this,arguments)}function A(){return A=(0,c.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.WY)("/api/book/removeComment",{method:"get",params:(0,o.Z)({},t)}));case 1:case"end":return s.stop()}},n)})),A.apply(this,arguments)}function Y(n,t){return x.apply(this,arguments)}function x(){return x=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/tagList",(0,o.Z)({method:"GET",params:(0,o.Z)({},t)},i||{})));case 1:case"end":return e.stop()}},n)})),x.apply(this,arguments)}function S(n,t){return $.apply(this,arguments)}function $(){return $=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/updateTag",(0,o.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:t},i||{})));case 1:case"end":return e.stop()}},n)})),$.apply(this,arguments)}function G(n,t){return K.apply(this,arguments)}function K(){return K=(0,c.Z)((0,a.Z)().mark(function n(t,i){return(0,a.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/book/addTag",(0,o.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:t},i||{})));case 1:case"end":return e.stop()}},n)})),K.apply(this,arguments)}function F(n){return U.apply(this,arguments)}function U(){return U=(0,c.Z)((0,a.Z)().mark(function n(t){return(0,a.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,p.WY)("/api/book/removeTag",{method:"get",params:(0,o.Z)({},t)}));case 1:case"end":return s.stop()}},n)})),U.apply(this,arguments)}}}]);
