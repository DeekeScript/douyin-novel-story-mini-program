(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[870],{31199:function(Y,g,a){"use strict";var s=a(22122),i=a(28991),p=a(81253),l=a(67294),d=a(81160),y=["fieldProps","min","proFieldProps","max"],M=function(m,h){var b=m.fieldProps,f=m.min,k=m.proFieldProps,P=m.max,v=(0,p.Z)(m,y);return l.createElement(d.Z,(0,s.Z)({mode:"edit",valueType:"digit",fieldProps:(0,i.Z)({min:f,max:P},b),ref:h,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:k},v))};g.Z=l.forwardRef(M)},5966:function(Y,g,a){"use strict";var s=a(22122),i=a(81253),p=a(67294),l=a(81160),d=["fieldProps","proFieldProps"],y=["fieldProps","proFieldProps"],M="text",Z=function(f){var k=f.fieldProps,P=f.proFieldProps,v=(0,i.Z)(f,d);return p.createElement(l.Z,(0,s.Z)({mode:"edit",valueType:M,fieldProps:k,filedConfig:{valueType:M},proFieldProps:P},v))},m=function(f){var k=f.fieldProps,P=f.proFieldProps,v=(0,i.Z)(f,y);return p.createElement(l.Z,(0,s.Z)({mode:"edit",valueType:"password",fieldProps:k,proFieldProps:P,filedConfig:{valueType:M}},v))},h=Z;h.Password=m,h.displayName="ProFormComponent",g.Z=h},94750:function(Y,g,a){"use strict";var s=a(5632);g.Z=function(i){var p=(0,s.md)();return p.buttonHasAccess(i)?i.children:null}},376:function(Y,g,a){"use strict";a.r(g),a.d(g,{default:function(){return G}});var s=a(62350),i=a(24565),p=a(57663),l=a(71577),d=a(90636),y=a(11849),M=a(34792),Z=a(48086),m=a(3182),h=a(2824),b=a(67966),f=a(49101),k=a(67265),P=a(77022),v=a(67294),L=a(37476),K=a(5966),x=a(31199),c=a(85893),R=function(T){return(0,c.jsxs)(L.Y,{title:"\u7F16\u8F91",width:400+"px",initialValues:T.values,visible:T.updateModalVisible,layout:"horizontal",labelCol:{span:4},wrapperCol:{span:20},autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,onCancel:T.onCancel},submitTimeout:2e3,onFinish:function(){var $=(0,m.Z)((0,d.Z)().mark(function C(F){return(0,d.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return F.id=T.values.id,j.next=3,T.onSubmit(F);case 3:case"end":return j.stop()}},C)}));return function(C){return $.apply(this,arguments)}}(),children:[(0,c.jsx)(K.Z,{name:"title",label:"\u540D\u79F0"}),(0,c.jsx)(x.Z,{name:"sort",label:"\u6392\u5E8F"})]})},S=a(94750),I=function(){var $=(0,v.useState)(!1),C=(0,h.Z)($,2),F=C[0],E=C[1],j=(0,v.useState)(!1),A=(0,h.Z)(j,1),V=A[0],w=(0,v.useRef)(),N=(0,v.useState)(),W=(0,h.Z)(N,2),B=W[0],O=W[1],z=function(){var r=(0,m.Z)((0,d.Z)().mark(function u(n){var e,_;return(0,d.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=Z.ZP.loading("Configuring"),!B){o.next=8;break}return n.id=B==null?void 0:B.id,o.next=5,(0,b.vj)((0,y.Z)({},n));case 5:_=o.sent,o.next=11;break;case 8:return o.next=10,(0,b.kV)((0,y.Z)({},n));case 10:_=o.sent;case 11:if(e(),_.code!==0){o.next=15;break}return Z.ZP.success("\u6210\u529F"),o.abrupt("return",!0);case 15:return o.abrupt("return",!1);case 16:case"end":return o.stop()}},u)}));return function(n){return r.apply(this,arguments)}}(),U=function(){var r=(0,m.Z)((0,d.Z)().mark(function u(n){var e,_;return(0,d.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=Z.ZP.loading("\u6B63\u5728\u5220\u9664"),n){o.next=3;break}return o.abrupt("return",!0);case 3:return o.next=5,(0,b.gj)({id:n==null?void 0:n.id});case 5:if(_=o.sent,e(),_.code!==0){o.next=10;break}return Z.ZP.success("\u5220\u9664\u6210\u529F"),o.abrupt("return",!0);case 10:return o.abrupt("return",!1);case 11:case"end":return o.stop()}},u)}));return function(n){return r.apply(this,arguments)}}(),t=[{title:"ID",dataIndex:"id",search:!1},{title:"\u7C7B\u76EE\u540D\u79F0",dataIndex:"title",valueType:"text"},{title:"\u6392\u5E8F",dataIndex:"sort",valueType:"text"},{title:"\u4FEE\u6539\u65F6\u95F4",sorter:!0,dataIndex:"updated_at",valueType:"dateTime",search:!1},{title:"\u521B\u5EFA\u65F6\u95F4",sorter:!0,dataIndex:"created_at",valueType:"dateTime",search:!1},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",width:180,render:function(u,n){return[(0,c.jsx)(S.Z,{access:"/book/updateCate",children:(0,c.jsx)("a",{onClick:function(){E(!0),O(n)},children:"\u4FEE\u6539"},"update"+n.id)},"update_if_"+n.id),(0,c.jsx)(S.Z,{access:"/book/removeCate",children:(0,c.jsx)(i.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onConfirm:(0,m.Z)((0,d.Z)().mark(function e(){var _;return(0,d.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,U(n);case 2:_=o.sent,_&&w.current&&w.current.reload();case 4:case"end":return o.stop()}},e)})),okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,c.jsx)(l.Z,{type:"primary",size:"small",danger:!0,children:"\u5220\u9664"},"delete-btn-"+n.id)},"delete"+n.id)},"if_delete_"+n.id)]}}];return(0,c.jsxs)(k.ZP,{children:[(0,c.jsx)(P.Z,{actionRef:w,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,c.jsx)(S.Z,{access:"/book/addCate",children:(0,c.jsxs)(l.Z,{type:"primary",onClick:function(){E(!0),O(void 0)},children:[(0,c.jsx)(f.Z,{})," \u6DFB\u52A0"]},"primary-1")},"unique")]},request:b.nM,columns:t}),(0,c.jsx)(R,{onSubmit:function(){var r=(0,m.Z)((0,d.Z)().mark(function u(n){var e;return(0,d.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,z(n);case 2:e=D.sent,e&&(E(!1),O(void 0),w.current&&w.current.reload());case 4:case"end":return D.stop()}},u)}));return function(u){return r.apply(this,arguments)}}(),onCancel:function(){E(!1),V||O(void 0)},updateModalVisible:F,values:B||{}})]})},G=I},67966:function(Y,g,a){"use strict";a.d(g,{ZN:function(){return d},h_:function(){return m},VS:function(){return b},fy:function(){return v},nM:function(){return K},vj:function(){return c},kV:function(){return S},gj:function(){return G},C9:function(){return $},d$:function(){return F},PN:function(){return j},oG:function(){return V},Lp:function(){return N},_U:function(){return B},tc:function(){return z}});var s=a(90636),i=a(11849),p=a(3182),l=a(21704);function d(t,r){return y.apply(this,arguments)}function y(){return y=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/bookList",(0,i.Z)({method:"GET",params:(0,i.Z)({},r)},u||{})));case 1:case"end":return e.stop()}},t)})),y.apply(this,arguments)}function M(t,r){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime().mark(function t(r,u){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/book/updateBook",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},t)})),Z.apply(this,arguments)}function m(t,r){return h.apply(this,arguments)}function h(){return h=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/updateBookCate",(0,i.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},t)})),h.apply(this,arguments)}function b(t,r){return f.apply(this,arguments)}function f(){return f=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/onlineBook",(0,i.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},t)})),f.apply(this,arguments)}function k(t,r){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function t(r,u){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/book/addBook",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function v(t){return L.apply(this,arguments)}function L(){return L=(0,p.Z)((0,s.Z)().mark(function t(r){return(0,s.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.WY)("/api/book/removeBook",{method:"get",params:(0,i.Z)({},r)}));case 1:case"end":return n.stop()}},t)})),L.apply(this,arguments)}function K(t,r){return x.apply(this,arguments)}function x(){return x=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/cateList",(0,i.Z)({method:"GET",params:(0,i.Z)({},r)},u||{})));case 1:case"end":return e.stop()}},t)})),x.apply(this,arguments)}function c(t,r){return R.apply(this,arguments)}function R(){return R=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/updateCate",(0,i.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},t)})),R.apply(this,arguments)}function S(t,r){return I.apply(this,arguments)}function I(){return I=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/addCate",(0,i.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},t)})),I.apply(this,arguments)}function G(t){return T.apply(this,arguments)}function T(){return T=(0,p.Z)((0,s.Z)().mark(function t(r){return(0,s.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.WY)("/api/book/removeCate",{method:"get",params:(0,i.Z)({},r)}));case 1:case"end":return n.stop()}},t)})),T.apply(this,arguments)}function $(t,r){return C.apply(this,arguments)}function C(){return C=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/commentList",(0,i.Z)({method:"GET",params:(0,i.Z)({},r)},u||{})));case 1:case"end":return e.stop()}},t)})),C.apply(this,arguments)}function F(t,r){return E.apply(this,arguments)}function E(){return E=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/examineComment",(0,i.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},t)})),E.apply(this,arguments)}function j(t){return A.apply(this,arguments)}function A(){return A=(0,p.Z)((0,s.Z)().mark(function t(r){return(0,s.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.WY)("/api/book/removeComment",{method:"get",params:(0,i.Z)({},r)}));case 1:case"end":return n.stop()}},t)})),A.apply(this,arguments)}function V(t,r){return w.apply(this,arguments)}function w(){return w=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/tagList",(0,i.Z)({method:"GET",params:(0,i.Z)({},r)},u||{})));case 1:case"end":return e.stop()}},t)})),w.apply(this,arguments)}function N(t,r){return W.apply(this,arguments)}function W(){return W=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/updateTag",(0,i.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},t)})),W.apply(this,arguments)}function B(t,r){return O.apply(this,arguments)}function O(){return O=(0,p.Z)((0,s.Z)().mark(function t(r,u){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.WY)("/api/book/addTag",(0,i.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:r},u||{})));case 1:case"end":return e.stop()}},t)})),O.apply(this,arguments)}function z(t){return U.apply(this,arguments)}function U(){return U=(0,p.Z)((0,s.Z)().mark(function t(r){return(0,s.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,l.WY)("/api/book/removeTag",{method:"get",params:(0,i.Z)({},r)}));case 1:case"end":return n.stop()}},t)})),U.apply(this,arguments)}}}]);
