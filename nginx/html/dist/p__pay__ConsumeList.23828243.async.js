(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[750],{8498:function(Z,c){"use strict";var r={ossUrl:"https://milu-story.oss-cn-hangzhou.aliyuncs.com/"};c.Z=r},94750:function(Z,c,r){"use strict";var i=r(5632);c.Z=function(l){var m=(0,i.md)();return m.buttonHasAccess(l)?l.children:null}},33442:function(Z,c,r){"use strict";r.r(c);var i=r(62350),l=r(24565),m=r(57663),E=r(71577),x=r(12968),h=r(20352),f=r(90636),M=r(34792),T=r(48086),D=r(3182),y=r(13755),O=r(67265),a=r(77022),o=r(67294),p=r(94750),s=r(8498),e=r(85893),g=function(){var I=(0,o.useRef)(),j=function(){var P=(0,D.Z)((0,f.Z)().mark(function v(n){var _,u;return(0,f.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(_=T.ZP.loading("\u6B63\u5728\u5220\u9664"),n){t.next=3;break}return t.abrupt("return",!0);case 3:return t.next=5,(0,y.c0)({id:n.id});case 5:if(u=t.sent,_(),u.code!==0){t.next=10;break}return T.ZP.success("\u5220\u9664\u6210\u529F"),t.abrupt("return",!0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},v)}));return function(n){return P.apply(this,arguments)}}(),R=[{title:"ID",dataIndex:"id",search:!1},{title:"\u7528\u6237\u4FE1\u606F",tooltip:"\u652F\u6301\u7528\u6237ID\u641C\u7D22",dataIndex:"user_id",valueType:"text",render:function(v,n){var _,u,d;return(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsx)("div",{style:{marginRight:"12px",paddingTop:"12px"},children:(0,e.jsx)(h.Z,{width:"48px",src:s.Z.ossUrl+((_=n.user)===null||_===void 0?void 0:_.avatar)})}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:["ID\uFF1A",(u=n.user)===null||u===void 0?void 0:u.id]}),(0,e.jsxs)("p",{children:["\u6635\u79F0\uFF1A",(d=n.user)===null||d===void 0?void 0:d.nickname]})]})]})}},{title:"\u5C0F\u8BF4\u4FE1\u606F",tooltip:"\u652F\u6301\u5C0F\u8BF4ID\u641C\u7D22",dataIndex:"book_id",valueType:"text",render:function(v,n){var _,u,d;return(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsx)("div",{style:{marginRight:"12px"},children:(0,e.jsx)(h.Z,{width:"48px",src:s.Z.ossUrl+((_=n.book)===null||_===void 0?void 0:_.novel_pic)})}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:["ID\uFF1A",(u=n.book)===null||u===void 0?void 0:u.id]}),(0,e.jsxs)("p",{children:["\u4E66\u540D\uFF1A",(d=n.book)===null||d===void 0?void 0:d.novel_name]})]})]})}},{title:"\u7AE0\u8282\u4FE1\u606F",tooltip:"\u8F93\u5165\u7B2C\u51E0\u7AE0",dataIndex:"index",valueType:"text",render:function(v,n){return(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:["\u7B2C",v,"\u7AE0"]}),(0,e.jsxs)("p",{children:["\u6807\u9898\uFF1A",n.bc_title]})]})}},{title:"\u6D88\u8017\u91D1\u5E01",dataIndex:"coin",valueType:"text",search:!1},{title:"\u4FEE\u6539\u65F6\u95F4",sorter:!0,dataIndex:"updated_at",valueType:"dateTime",search:!1},{title:"\u521B\u5EFA\u65F6\u95F4",sorter:!0,dataIndex:"created_at",valueType:"dateTime",search:!1},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",width:100,render:function(v,n){return[(0,e.jsx)(p.Z,{access:"/pay/remove",children:(0,e.jsx)(l.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onConfirm:(0,D.Z)((0,f.Z)().mark(function _(){var u;return(0,f.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(n);case 2:u=t.sent,u&&I.current&&I.current.reload();case 4:case"end":return t.stop()}},_)})),okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,e.jsx)(E.Z,{type:"primary",size:"small",danger:!0,children:"\u5220\u9664"})})},"if_delete_"+n.id)]}}];return(0,e.jsx)(O.ZP,{children:(0,e.jsx)(a.Z,{actionRef:I,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[]},request:y.q2,columns:R})})};c.default=g},13755:function(Z,c,r){"use strict";r.d(c,{pb:function(){return x},Od:function(){return f},q2:function(){return T},c0:function(){return y}});var i=r(90636),l=r(11849),m=r(3182),E=r(21704);function x(a,o){return h.apply(this,arguments)}function h(){return h=(0,m.Z)((0,i.Z)().mark(function a(o,p){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,E.WY)("/api/pay/list",(0,l.Z)({method:"GET",params:(0,l.Z)({},o)},p||{})));case 1:case"end":return e.stop()}},a)})),h.apply(this,arguments)}function f(a){return M.apply(this,arguments)}function M(){return M=(0,m.Z)((0,i.Z)().mark(function a(o){return(0,i.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,E.WY)("/api/pay/remove",{method:"get",params:(0,l.Z)({},o)}));case 1:case"end":return s.stop()}},a)})),M.apply(this,arguments)}function T(a,o){return D.apply(this,arguments)}function D(){return D=(0,m.Z)((0,i.Z)().mark(function a(o,p){return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,E.WY)("/api/pay/consumeList",(0,l.Z)({method:"GET",params:(0,l.Z)({},o)},p||{})));case 1:case"end":return e.stop()}},a)})),D.apply(this,arguments)}function y(a){return O.apply(this,arguments)}function O(){return O=(0,m.Z)((0,i.Z)().mark(function a(o){return(0,i.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,E.WY)("/api/pay/removeConsume",{method:"get",params:(0,l.Z)({},o)}));case 1:case"end":return s.stop()}},a)})),O.apply(this,arguments)}}}]);
