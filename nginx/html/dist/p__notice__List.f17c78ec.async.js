(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[606],{5966:function(B,g,e){"use strict";var D=e(22122),x=e(81253),b=e(67294),E=e(81160),a=["fieldProps","proFieldProps"],d=["fieldProps","proFieldProps"],O="text",v=function(p){var F=p.fieldProps,R=p.proFieldProps,C=(0,x.Z)(p,a);return b.createElement(E.Z,(0,D.Z)({mode:"edit",valueType:O,fieldProps:F,filedConfig:{valueType:O},proFieldProps:R},C))},l=function(p){var F=p.fieldProps,R=p.proFieldProps,C=(0,x.Z)(p,d);return b.createElement(E.Z,(0,D.Z)({mode:"edit",valueType:"password",fieldProps:F,proFieldProps:R,filedConfig:{valueType:O}},C))},P=v;P.Password=l,P.displayName="ProFormComponent",g.Z=P},90672:function(B,g,e){"use strict";var D=e(22122),x=e(81253),b=e(67294),E=e(81160),a=["fieldProps","proFieldProps"],d=function(v,l){var P=v.fieldProps,Z=v.proFieldProps,p=(0,x.Z)(v,a);return b.createElement(E.Z,(0,D.Z)({ref:l,mode:"edit",valueType:"textarea",fieldProps:P,proFieldProps:Z},p))};g.Z=b.forwardRef(d)},47940:function(B,g,e){"use strict";e.r(g),e.d(g,{default:function(){return Q}});var D=e(62350),x=e(24565),b=e(57663),E=e(71577),a=e(90636),d=e(11849),O=e(34792),v=e(48086),l=e(3182),P=e(2824),Z=e(21704);function p(n,u){return F.apply(this,arguments)}function F(){return F=(0,l.Z)((0,a.Z)().mark(function n(u,i){return(0,a.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Z.WY)("/api/notice/list",(0,d.Z)({method:"GET",params:(0,d.Z)({},u)},i||{})));case 1:case"end":return t.stop()}},n)})),F.apply(this,arguments)}function R(n,u){return C.apply(this,arguments)}function C(){return C=(0,l.Z)((0,a.Z)().mark(function n(u,i){return(0,a.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Z.WY)("/api/notice/update",(0,d.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:u},i||{})));case 1:case"end":return t.stop()}},n)})),C.apply(this,arguments)}function L(n,u){return W.apply(this,arguments)}function W(){return W=(0,l.Z)((0,a.Z)().mark(function n(u,i){return(0,a.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Z.WY)("/api/notice/add",(0,d.Z)({method:"POST",headers:{"Content-Type":"application/json"},data:u},i||{})));case 1:case"end":return t.stop()}},n)})),W.apply(this,arguments)}function K(n){return A.apply(this,arguments)}function A(){return A=(0,l.Z)((0,a.Z)().mark(function n(u){return(0,a.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,Z.WY)("/api/notice/remove",{method:"get",params:(0,d.Z)({},u)}));case 1:case"end":return o.stop()}},n)})),A.apply(this,arguments)}var $=e(49101),V=e(67265),Y=e(77022),w=e(67294),z=e(37476),G=e(5966),N=e(90672),c=e(85893),H=function(n){return(0,c.jsxs)(z.Y,{title:"\u7F16\u8F91",width:400+"px",initialValues:n.values,visible:n.updateModalVisible,layout:"horizontal",labelCol:{span:4},wrapperCol:{span:20},autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,onCancel:n.onCancel},submitTimeout:2e3,onFinish:function(){var u=(0,l.Z)((0,a.Z)().mark(function i(o){return(0,a.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return o.id=n.values.id,M.next=3,n.onSubmit(o);case 3:case"end":return M.stop()}},i)}));return function(i){return u.apply(this,arguments)}}(),children:[(0,c.jsx)(G.Z,{name:"title",label:"\u6807\u9898"}),(0,c.jsx)(N.Z,{name:"content",label:"\u5185\u5BB9"})]})},J=function(){var u=(0,w.useState)(!1),i=(0,P.Z)(u,2),o=i[0],t=i[1],M=(0,w.useState)(!1),X=(0,P.Z)(M,1),k=X[0],j=(0,w.useRef)(),q=(0,w.useState)(),S=(0,P.Z)(q,2),U=S[0],I=S[1],_=function(){var T=(0,l.Z)((0,a.Z)().mark(function m(s){var f,h;return(0,a.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(f=v.ZP.loading("Configuring"),!U){r.next=7;break}return r.next=4,R((0,d.Z)({},s));case 4:h=r.sent,r.next=10;break;case 7:return r.next=9,L((0,d.Z)({},s));case 9:h=r.sent;case 10:if(f(),h.code!==0){r.next=14;break}return v.ZP.success("\u6210\u529F"),r.abrupt("return",!0);case 14:return r.abrupt("return",!1);case 15:case"end":return r.stop()}},m)}));return function(s){return T.apply(this,arguments)}}(),ee=function(){var T=(0,l.Z)((0,a.Z)().mark(function m(s){var f,h;return(0,a.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(f=v.ZP.loading("\u6B63\u5728\u5220\u9664"),s){r.next=3;break}return r.abrupt("return",!0);case 3:return r.next=5,K({id:s.id});case 5:if(h=r.sent,f(),h.code!==0){r.next=10;break}return v.ZP.success("\u5220\u9664\u6210\u529F"),r.abrupt("return",!0);case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},m)}));return function(s){return T.apply(this,arguments)}}(),re=[{title:"ID",dataIndex:"id",search:!1},{title:"\u6807\u9898",dataIndex:"title",valueType:"text"},{title:"\u5185\u5BB9",dataIndex:"content",valueType:"text",search:!1},{title:"\u4FEE\u6539\u65F6\u95F4",sorter:!0,dataIndex:"updated_at",valueType:"dateTime",search:!1},{title:"\u521B\u5EFA\u65F6\u95F4",sorter:!0,dataIndex:"created_at",valueType:"dateTime",search:!1},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",width:180,render:function(m,s){return[(0,c.jsx)("a",{onClick:function(){t(!0),I(s)},children:"\u4FEE\u6539"},"update"+s.id),(0,c.jsx)(x.Z,{title:"\u786E\u5B9A\u5220\u9664\u5417\uFF1F",onConfirm:(0,l.Z)((0,a.Z)().mark(function f(){var h;return(0,a.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ee(s);case 2:h=r.sent,h&&j.current&&j.current.reload();case 4:case"end":return r.stop()}},f)})),okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",children:(0,c.jsx)(E.Z,{type:"primary",size:"small",danger:!0,children:"\u5220\u9664"},"delete-btn-"+s.id)},"delete"+s.id)]}}];return(0,c.jsxs)(V.ZP,{children:[(0,c.jsx)(Y.Z,{actionRef:j,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,c.jsxs)(E.Z,{type:"primary",onClick:function(){t(!0),I(void 0)},children:[(0,c.jsx)($.Z,{})," \u6DFB\u52A0"]},"primary")]},request:p,columns:re}),(0,c.jsx)(H,{onSubmit:function(){var T=(0,l.Z)((0,a.Z)().mark(function m(s){var f;return(0,a.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,_(s);case 2:f=y.sent,f&&(t(!1),I(void 0),j.current&&j.current.reload());case 4:case"end":return y.stop()}},m)}));return function(m){return T.apply(this,arguments)}}(),onCancel:function(){t(!1),k||I(void 0)},updateModalVisible:o,values:U||{}})]})},Q=J}}]);
